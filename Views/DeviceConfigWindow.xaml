<Window x:Class="testing1.Views.DeviceConfigWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:converters="clr-namespace:testing1.Converters"
        Title="Device Configuration" Height="600" Width="800"
        Icon="pack://application:,,,/Images/MachDatumLogo2.png"
        WindowStartupLocation="CenterOwner" ResizeMode="CanResize">

    <Window.Resources>
        <converters:StatusToColorConverter x:Key="StatusToColorConverter"/>
        <converters:InverseBooleanConverter x:Key="InverseBooleanConverter"/>
    </Window.Resources>

    <Grid Margin="20">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Margin="0,0,0,20">
            <TextBlock Text="Device Configuration" FontSize="24" FontWeight="Bold" Margin="0,-13,0,1" FontFamily="Segoe UI"/>
            <TextBlock Text="Configure RS485, Ethernet and WiFi settings for the selected device" FontSize="14" Foreground="Gray" FontFamily="Segoe UI"/>
        </StackPanel>

        <!-- Main Content -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto">
            <StackPanel>
                <!-- Device Information -->
                <GroupBox Header="Device Information" Margin="0,0,0,20" FontWeight="Bold" FontSize="13">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Device IP:" Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" Margin="0,0,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding DeviceIp}" Grid.Column="1" Grid.Row="0" Margin="0,0,20,0" IsReadOnly="True" Background="#F5F5F5" FontWeight="Regular"/>

                        <TextBlock Text="MAC Address:" Grid.Column="2" Grid.Row="0" VerticalAlignment="Center" Margin="0,0,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding MACAddress}" Grid.Column="3" Grid.Row="0" IsReadOnly="True" Background="#F5F5F5" FontWeight="Regular"/>
                    </Grid>
                </GroupBox>

                <!-- RS485 Configuration -->
                <GroupBox Header="RS485 Configuration" Margin="0,0,0,20" FontWeight="Bold" FontSize="13">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <TextBlock Text="Baud Rate:" Grid.Column="0" Grid.Row="0" VerticalAlignment="Center" Margin="0,0,10,0" FontWeight="Normal"/>
                        <ComboBox Grid.Column="1" Grid.Row="0" Margin="0,0,20,5" SelectedValue="{Binding RS485.BaudRate}" SelectedValuePath="Tag" FontWeight="Regular">
                            <ComboBoxItem Content="9600" Tag="9600"/>
                            <ComboBoxItem Content="19200" Tag="19200"/>
                            <ComboBoxItem Content="38400" Tag="38400"/>
                            <ComboBoxItem Content="57600" Tag="57600"/>
                            <ComboBoxItem Content="115200" Tag="115200"/>
                        </ComboBox>

                        <TextBlock Text="Parity:" Grid.Column="2" Grid.Row="0" VerticalAlignment="Center" Margin="0,0,10,0" FontWeight="Normal"/>
                        <ComboBox Grid.Column="3" Grid.Row="0" Margin="0,0,0,5" SelectedValue="{Binding RS485.Parity}" SelectedValuePath="Tag" FontWeight="Regular">
                            <ComboBoxItem Content="None" Tag="0"/>
                            <ComboBoxItem Content="Odd" Tag="3"/>
                            <ComboBoxItem Content="Even" Tag="2"/>
                        </ComboBox>

                        <TextBlock Text="Data Bits:" Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <ComboBox Grid.Column="1" Grid.Row="1" Margin="0,5,20,5" SelectedValue="{Binding RS485.DataBit}" SelectedValuePath="Tag" FontWeight="Regular">
                            <ComboBoxItem Content="7" Tag="2"/>
                            <ComboBoxItem Content="8" Tag="3"/>
                        </ComboBox>

                        <TextBlock Text="Stop Bits:" Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <ComboBox Grid.Column="3" Grid.Row="1" Margin="0,5,0,5" SelectedValue="{Binding RS485.StopBit}" SelectedValuePath="Tag" FontWeight="Regular">
                            <ComboBoxItem Content="1" Tag="1"/>
                            <ComboBoxItem Content="2" Tag="2"/>
                        </ComboBox>

                        <!-- RS485 Buttons -->
                        <StackPanel Grid.Column="0" Grid.Row="2" Grid.ColumnSpan="4" Orientation="Horizontal" Margin="0,15,0,0">
                            <Button Content="Read RS485 Config" Command="{Binding ReadRS485Command}" FontWeight="SemiBold" FontSize="12"
                                    Background="#255DD4" Foreground="White" Padding="15,8" Margin="0,0,10,0"/>
                            <Button Content="Send RS485 Config" Command="{Binding SendRS485Command}" FontWeight="SemiBold" FontSize="12"
                                    Background="#255DD4" Foreground="White" Padding="15,8"/>
                        </StackPanel>
                    </Grid>
                </GroupBox>

                <GroupBox Header="General Configuration" Margin="0,0,0,20" FontFamily="Segoe UI" FontWeight="Bold" FontSize="13">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <CheckBox Content = "Wifi" Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="4" 
                                  IsChecked="{Binding General.IsWifi}" Margin="0,0,0,10" FontWeight="SemiBold"/>
                        <CheckBox Content = "Ethernet" Grid.Column="1" Grid.Row="0" Grid.ColumnSpan="4" 
                                 IsChecked="{Binding General.IsEthernet}" Margin="350,0,0,10" FontWeight="SemiBold"/>
                        <TextBlock Text="Port:" Grid.Column="0" Grid.Row="1" VerticalAlignment="Top" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding General.Port}" Grid.Column="1" Grid.Row="1" Margin="0,5,20,5" FontWeight="Regular"/>

                        <StackPanel Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="4" Orientation="Horizontal" Margin="0,15,0,0">
                            <Button Content="Read General Config" Command="{Binding ReadGeneralCommand}" FontWeight="SemiBold" FontSize="12"
             Background="#255DD4" Foreground="White" Padding="15,8" Margin="0,0,10,0"/>
                            <Button Content="Send General Config" Command="{Binding SendGeneralCommand}" FontWeight="SemiBold" FontSize="12"
             Background="#255DD4" Foreground="White" Padding="15,8"/>
                        </StackPanel>
                    </Grid>
                </GroupBox>

                <!-- Ethernet Configuration -->
                <GroupBox Header="Ethernet Configuration" Margin="0,0,0,20" FontFamily="Segoe UI" FontWeight="Bold" FontSize="13">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>

                        <CheckBox Content="Static IP Configuration" Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="4" 
                                  IsChecked="{Binding Ethernet.IsStatic}" Margin="0,0,0,10" FontWeight="SemiBold"/>

                        <TextBlock Text="IP Address:" Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Ethernet.IP}" Grid.Column="1" Grid.Row="1" Margin="0,5,20,5" FontWeight="Regular"/>

                        <TextBlock Text="Gateway:" Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Ethernet.Gateway}" Grid.Column="3" Grid.Row="1" Margin="0,5,0,5" FontWeight="Regular"/>

                        <TextBlock Text="Netmask:" Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Ethernet.Netmask}" Grid.Column="1" Grid.Row="2" Margin="0,5,20,5" FontWeight="Regular"/>

                        <TextBlock Text="DNS Primary:" Grid.Column="0" Grid.Row="3" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Ethernet.DnsMain}" Grid.Column="1" Grid.Row="3" Margin="0,5,20,5" FontWeight="Regular"/>

                        <TextBlock Text="DNS Backup:" Grid.Column="2" Grid.Row="2" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Ethernet.DnsBackup}" Grid.Column="3" Grid.Row="2" Margin="0,5,0,5" FontWeight="Regular"/>

                        <!-- Ethernet Buttons -->
                        <StackPanel Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="4" Orientation="Horizontal" Margin="0,15,0,0">
                            <Button Content="Read Ethernet Config" Command="{Binding ReadEthernetCommand}" FontWeight="SemiBold" FontSize="12"
                                    Background="#255DD4" Foreground="White" Padding="15,8" Margin="0,0,10,0"/>
                            <Button Content="Send Ethernet Config" Command="{Binding SendEthernetCommand}" FontWeight="SemiBold" FontSize="12"
                                    Background="#255DD4" Foreground="White" Padding="15,8"/>
                        </StackPanel>
                    </Grid>
                </GroupBox>

                <!-- WiFi Configuration -->
                <GroupBox Header="WiFi Configuration" Margin="0,0,0,20" FontFamily="Segoe UI" FontWeight="Bold" FontSize="13">
                    <Grid Margin="10">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <CheckBox Content="Static IP Configuration" Grid.Column="0" Grid.Row="0" Grid.ColumnSpan="4" 
                  IsChecked="{Binding Wifi.Is_static}" Margin="0,0,0,10" FontWeight="SemiBold"/>
                        <TextBlock Text="SSID:" Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Wifi.SSID}" Grid.Column="1" Grid.Row="1" Margin="0,5,20,5" FontWeight="Regular"/>

                        <TextBlock Text="DNS Main:" Grid.Column="2" Grid.Row="1" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Wifi.DNS_main}" Grid.Column="3" Grid.Row="1" Margin="0,5,0,5" FontWeight="Regular"/>

                        <TextBlock Text="Password:" Grid.Column="0" Grid.Row="2" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Wifi.Password}" Grid.Column="1" Grid.Row="2" Margin="0,5,20,5" FontWeight="Regular"/>

                        <TextBlock Text="DNS Backup:" Grid.Column="2" Grid.Row="2" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Wifi.DNS_backup}" Grid.Column="3" Grid.Row="2" Margin="0,5,0,5" FontWeight="Regular"/>

                        <TextBlock Text="Subnet Mask:" Grid.Column="0" Grid.Row="3" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Wifi.netmask}" Grid.Column="1" Grid.Row="3" Margin="0,5,20,5" FontWeight="Regular"/>

                        <TextBlock Text="Gateway" Grid.Column="2" Grid.Row="3" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Wifi.Gateway}" Grid.Column="3" Grid.Row="3" Margin="0,5,0,5" FontWeight="Regular"/>

                        <TextBlock Text="IP:" Grid.Column="0" Grid.Row="4" VerticalAlignment="Center" Margin="0,5,10,0" FontWeight="Normal"/>
                        <TextBox Text="{Binding Wifi.IP}" Grid.Column="1" Grid.Row="4" Margin="0,5,20,5" FontWeight="Regular"/>


                        <!-- WiFi Buttons moved to row 5 -->
                        <StackPanel Grid.Column="0" Grid.Row="5" Grid.ColumnSpan="4" Orientation="Horizontal" Margin="0,15,0,0">
                            <Button Content="Read WiFi Config" Command="{Binding ReadWifiCommand}" FontWeight="SemiBold" FontSize="12"
                    Background="#255DD4" Foreground="White" Padding="15,8" Margin="0,0,10,0"/>
                            <Button Content="Send WiFi Config" Command="{Binding SendWifiCommand}" FontWeight="SemiBold" FontSize="12"
                    Background="#255DD4" Foreground="White" Padding="15,8"/>
                        </StackPanel>
                    </Grid>
                </GroupBox>

                <!--Reset Buttons-->
                <StackPanel Grid.Column="0" Grid.Row="4" Grid.ColumnSpan="4" Orientation="Horizontal" Margin="17,1,0,0">
                    <Button Content="Reset Device" Command="{Binding ResetCommand}" FontWeight="SemiBold" FontSize="12"
                                    Background="#255DD4" Foreground="White" Padding="15,8" Margin="0,0,10,0"/>
                </StackPanel>
            </StackPanel>
        </ScrollViewer>
    </Grid>
</Window>